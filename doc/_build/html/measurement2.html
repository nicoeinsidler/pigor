

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Measurement Class 2.0 &mdash; PIGOR  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="https://unpkg.com/mermaid@7.1.0/dist/mermaid.min.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Fit Functions" href="fit-functions.html" />
    <link rel="prev" title="The Measurement Class" href="measurement.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> PIGOR
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">How to install PIGOR</a></li>
<li class="toctree-l1"><a class="reference internal" href="naming-convention.html">Measurement Naming Convention</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="pigor.html">PIGOR</a></li>
<li class="toctree-l1"><a class="reference internal" href="measurement.html">The Measurement Class</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Measurement Class 2.0</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#structure">Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#previous-development">Previous Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-brand-new-measurement-class">The brand new Measurement Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fit-functions.html">Fit Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="sprints.html">Sprint Planning</a></li>
<li class="toctree-l1"><a class="reference internal" href="todo.html">ToDo List</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PIGOR</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Measurement Class 2.0</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/measurement2.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="measurement-class-2-0">
<h1>Measurement Class 2.0<a class="headerlink" href="#measurement-class-2-0" title="Permalink to this headline">¶</a></h1>
<p>Due to some design flaws in the existsing <code class="xref py py-class docutils literal notranslate"><span class="pre">measurement.Measurement</span></code> class, it will be rewritten from ground up using already existsing libraries. This undertaking will lead to a cleaner version and will make it possible to adapt <code class="xref py py-class docutils literal notranslate"><span class="pre">measurement.Measurement</span></code> more easily for the interferometer experiments.</p>
<div class="section" id="structure">
<h2>Structure<a class="headerlink" href="#structure" title="Permalink to this headline">¶</a></h2>
<p>The new immproved structure will make use of:</p>
<ul class="simple">
<li>LMFIT package</li>
<li>pandas dataframe</li>
</ul>
<p>So that the fitting will be done with LMFIT models, whereas the data is handled in pandas dataframes. This creates huge advantages for the developer as well as for the user.</p>
</div>
<div class="section" id="previous-development">
<h2>Previous Development<a class="headerlink" href="#previous-development" title="Permalink to this headline">¶</a></h2>
<p>There have been efforts previously to build a unique own modular <code class="xref py py-class docutils literal notranslate"><span class="pre">measurement.Measurement</span></code> class by Nico. These efforts can be examined in the branch improvements/core.</p>
<p>These following elements were attemted to build:</p>
<ul class="simple">
<li>data column: has data and a head, knows its name etc.; functions can easily be applied to it</li>
<li>fit object: used for fitting and finding bounds; each instance can have its own bounds</li>
<li><dl class="first docutils">
<dt>data set: these objects can be plotted by Measurement, so Measurement will try to create one of those objects; they consists of:</dt>
<dd><ul class="first last">
<li>data columns objects</li>
<li>fit objects</li>
</ul>
</dd>
</dl>
</li>
</ul>

            <style>
            /* mermaid issue 527 workaround */
            .section {
                opacity: 1.0 !important;
            }
            </style>
            <script>mermaid.initialize({startOnLoad:true});</script><div class="mermaid">
            graph TD
    subgraph column class
    desc(Column.desc) --&gt; column{column object}
    data(Column.data) --&gt; column{column object}
    end

    column --&gt; dsdata

    subgraph data set object
    dsdesc(DataSet.desc) --&gt; set{data set object}
    dsdata(DataSet.data) --&gt; set
    end

    subgraph fit function class
    parameters(FitFunction.parameters) --&gt; ff
    find_bounds[find_bounds] --&gt; fb
    fb(FitFunction.bounds) --&gt; ff
    end

    ff{fit function class} --&gt; find_fit[find_fit]
    ff --&gt; fit_function
    set --&gt; fdata(fit.data)

    subgraph fit class
    find_fit --&gt; fit
    popt(fit.popt) --&gt; fit
    pcovt(fit.pcov) --&gt; fit
    fit_function(fit.fit_function) --&gt; fit
    ft(fit.type) --&gt; fit
    fdata --&gt; fit
    end

    fit{fit object} --&gt; m
    set --&gt; m{measurement object}

    subgraph measurement class
    m --&gt; plot[plot]
    m --&gt; export[export_meta]
    end

    subgraph legend
    l1{class}
    l2(variable)
    l3[function]
    end
        </div><p><strong>Column Class</strong></p>
<p>Methods:</p>
<ul class="simple">
<li><code class="code docutils literal notranslate"><span class="pre">reverse()</span></code>: reverse order of data</li>
<li><code class="code docutils literal notranslate"><span class="pre">__init__(self,</span> <span class="pre">desc,</span> <span class="pre">data)</span></code></li>
<li><code class="code docutils literal notranslate"><span class="pre">__repr__()</span></code>: plots <code class="code docutils literal notranslate"><span class="pre">'&lt;column</span> <span class="pre">object</span> <span class="pre">'desc'</span> <span class="pre">of</span> <span class="pre">lenght</span> <span class="pre">len(data)&gt;'</span></code> or something like that</li>
</ul>
<p>Variables:</p>
<ul class="simple">
<li><code class="code docutils literal notranslate"><span class="pre">columns.data</span></code>: holds the data as numpy array in float64</li>
<li><code class="code docutils literal notranslate"><span class="pre">columns.desc</span></code>: holds the name of the columns heading as string</li>
</ul>
<p><strong>Fit Function Class</strong></p>
<p>Method:</p>
<ul class="simple">
<li><code class="code docutils literal notranslate"><span class="pre">fit_function()</span></code></li>
<li><code class="code docutils literal notranslate"><span class="pre">find_bounds()</span></code>: tries to find the bounds</li>
<li><code class="code docutils literal notranslate"><span class="pre">bounds</span></code>: holds the bounds to be used when fitting as array of tuples</li>
</ul>
<p>Variables:</p>
<ul class="simple">
<li><code class="code docutils literal notranslate"><span class="pre">parameters</span></code>: dictionary holding the names of the parameters and the parameters themselves</li>
</ul>
<p><strong>Fit Class</strong></p>
<p>Variables:</p>
<ul class="simple">
<li><code class="code docutils literal notranslate"><span class="pre">type</span></code> with which function the fit should be carried out, string</li>
<li><code class="code docutils literal notranslate"><span class="pre">popt</span></code></li>
<li><code class="code docutils literal notranslate"><span class="pre">pcov</span></code></li>
</ul>
<p>Methods:</p>
<ul class="simple">
<li><code class="code docutils literal notranslate"><span class="pre">fit()</span></code></li>
</ul>
<p><strong>Data Set Class</strong></p>
<p>This object stores data points (lists or Column objects) to form a data set. It must contain at least two data point lists. These lists must have the same number of elements, if not the lists that don’t have enough elements will get padded with 0.</p>
<p>Variables:</p>
<ul class="simple">
<li><code class="code docutils literal notranslate"><span class="pre">desc</span></code>: a description of what the data set describes (optional)</li>
<li><code class="code docutils literal notranslate"><span class="pre">data</span></code>: data is stored in list; len(list) &gt; 1;</li>
</ul>
<p>It is obvious to every reader that indeed almost all of this functionality is already included in the python package pandas and lmfit. This led to the conclusion that improvements/core won’t be maintained any longer.</p>
</div>
<div class="section" id="the-brand-new-measurement-class">
<h2>The brand new Measurement Class<a class="headerlink" href="#the-brand-new-measurement-class" title="Permalink to this headline">¶</a></h2>
<p>The brand new measurement class will include only the following featues:</p>
<ul class="simple">
<li>ready-to-use lmfit fit models</li>
<li>fit() method to actually produce a fit using lmfits minimize()</li>
<li>plot() method for implementing plotting functionality</li>
<li>contrast() to calculate the contrast</li>
<li>degree_of_polarisation() to calculate the degree of polarisation</li>
<li>read() to read data in a very generic way</li>
<li>export_meta() to export meta data</li>
</ul>
<p>Its child classes will then implement the experiment specific data handling details like cleaning the data and extending the meta data that will be exported.</p>

            <style>
            /* mermaid issue 527 workaround */
            .section {
                opacity: 1.0 !important;
            }
            </style>
            <div class="mermaid">
            graph TD
    m[measurement class] --&gt; p[polarimeter class]
    m --&gt; i[interferometer class]
        </div></div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="fit-functions.html" class="btn btn-neutral float-right" title="Fit Functions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="measurement.html" class="btn btn-neutral float-left" title="The Measurement Class" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Nico Einsidler

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>